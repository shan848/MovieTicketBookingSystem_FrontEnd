<div class="container" style="max-width: 600px; margin: 2rem auto;">
    <div class="card" style="padding: 2rem;">
        <h2 style="margin: 0 0 1.5rem;">{{id?'Update':'Add'}} Movie</h2>
        <form (ngSubmit)="onSubmit()" #signupForm="ngForm">
            <div style="margin-bottom: 1rem;">
                <label for="name" style="display: block; margin-bottom: 0.5rem;">Movie Name</label>
                <input type="text" id="movieName" name="movieName" [(ngModel)]="movieData.movieName" required
                    minlength="2" #movieNameInput="ngModel"
                    style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid"
                    [style.borderColor]="movieNameInput.invalid && movieNameInput.touched ? 'red' : '#ddd'">
                @if (movieNameInput.invalid && movieNameInput.touched) {
                <small style="color: red;">Name must be at least 2 characters long</small>
                }
            </div>

            <div style="margin-bottom: 1rem;">
                <label for="description" style="display: block; margin-bottom: 0.5rem;">Description
                </label>
                <input type="text" id="description" name="description" [(ngModel)]="movieData.description" required
                    #descriptionInput="ngModel"
                    style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid"
                    [style.borderColor]="descriptionInput.invalid && descriptionInput.touched ? 'red' : '#ddd'">
                @if (descriptionInput.invalid && descriptionInput.touched) {
                <small style="color: red;">Description must be at least 10 characters long</small>
                }
            </div>
            <div style="margin-bottom: 1rem;">
                <label for="genre" style="display: block; margin-bottom: 0.5rem;">Genre</label>
                <!-- <input type="text" id="genre" name="genre" [(ngModel)]="movieData.genre" required #genreInput="ngModel"
                    style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid"
                    [style.borderColor]="genreInput.invalid && genreInput.touched ? 'red' : '#ddd'"> -->
                <select [(ngModel)]="movieData.genre" id="genre" name="genre" required #genreInput="ngModel"
                    style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid;height: auto;"
                    [style.borderColor]="genreInput.invalid && genreInput.touched ? 'red' : '#ddd'">
                    <option value="DRAMA"> DRAMA </option>
                    <option value="THRILLER">THRILLER</option>
                    <option value="ACTION">ACTION</option>
                    <option value="ROMANTIC">ROMANTIC</option>
                    <option value="COMEDY">COMEDY</option>
                    <option value="HISTORICAL">HISTORICAL</option>
                    <option value="ANIMATION">ANIMATION</option>
                    <option value="SPORTS">SPORTS</option>
                    <option value="SOCIAL">SOCIAL</option>
                    <option value="SOCIAL">SOCIAL</option>
                    <option value="SCIFI">SCIFI</option>
                    <option value="WAR">WAR</option>

                </select>
                @if (genreInput.invalid && genreInput.touched) {
                <small style="color: red;">Genre required</small>
                }
            </div>
            <div style="margin-bottom: 1rem;">
                <label for="director" style="display: block; margin-bottom: 0.5rem;">Director</label>
                <input type="text" id="director" name="director" [(ngModel)]="movieData.director" required minlength="2"
                    #directorInput="ngModel" style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid"
                    [style.borderColor]="directorInput.invalid && directorInput.touched ? 'red' : '#ddd'">
                @if (directorInput.invalid && directorInput.touched) {
                <small style="color: red;">Director must be at least 2 characters long</small>
                }
            </div>
            <div style="margin-bottom: 1rem;">
                <label for="duration" style="display: block; margin-bottom: 0.5rem;">Duration</label>
                <input type="text" id="duration" name="duration" [(ngModel)]="movieData.duration" required
                    #durationInput="ngModel" style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid"
                    [style.borderColor]="durationInput.invalid && durationInput.touched ? 'red' : '#ddd'">
                @if (durationInput.invalid && durationInput.touched) {
                <small style="color: red;">Duration required (in min)</small>
                }
            </div>
            <div style="margin-bottom: 1rem;">
                <label for="rating" style="display: block; margin-bottom: 0.5rem;">Rating</label>
                <input type="text" id="rating" name="rating" [(ngModel)]="movieData.rating" required
                    #ratingInput="ngModel" style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid"
                    [style.borderColor]="ratingInput.invalid && ratingInput.touched ? 'red' : '#ddd'">
                @if (ratingInput.invalid && ratingInput.touched) {
                <small style="color: red;">Rating required</small>
                }
            </div>
            <div style="margin-bottom: 1rem;">
                <label for="releaseDate" style="display: block; margin-bottom: 0.5rem;">Release Date</label>
                <input type="date" id="releaseDate" name="releaseDate" [(ngModel)]="movieData.releaseDate" required
                    #releaseDateInput="ngModel"
                    style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid"
                    [style.borderColor]="releaseDateInput.invalid && releaseDateInput.touched ? 'red' : '#ddd'">
                @if (releaseDateInput.invalid && releaseDateInput.touched) {
                <small style="color: red;">Date required</small>
                }
            </div>
            <div style="margin-bottom: 1rem;">
                <label for="language" style="display: block; margin-bottom: 0.5rem;">Language</label>
                <!-- <input type="text" id="rating" name="rating" [(ngModel)]="movieData.rating" required
                    #ratingInput="ngModel" style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid"
                    [style.borderColor]="ratingInput.invalid && ratingInput.touched ? 'red' : '#ddd'"> -->
                <select [(ngModel)]="movieData.language" id="language" name="language" required #languageInput="ngModel"
                    style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid"
                    [style.borderColor]="languageInput.invalid && languageInput.touched ? 'red' : '#ddd'">
                    <option value="HINDI"> HINDI</option>
                    <option value="ENGLISH">ENGLISH</option>
                    <option value="TELUGU">TELUGU</option>
                    <option value="TAMIL">TAMIL</option>
                    <option value="MARATHI">MARATHI</option>
                    <option value="PUNJAB">PUNJAB</option>
                    <option value="KANNADA">KANNADA</option>

                </select>
                @if (languageInput.invalid && languageInput.touched) {
                <small style="color: red;">Language required</small>
                }
            </div>
            <!-- @if (error) {
          <div style="color: red; margin-bottom: 1rem;">{{ error }}</div>
        } -->

            <div class="d-flex justify-content-around align-item-center" style="gap: 10px;">
                <button type="submit" class="btn btn-primary" style="width: 100%;" [disabled]="signupForm.invalid">
                    {{id?'Update':'Add'}} Movie
                </button>
                <button type="button" class="btn btn-secondary" style="width: 100%; " routerLink="/manage-movies">
                    Cancel
                </button>
            </div>

        </form>
    </div>
</div>